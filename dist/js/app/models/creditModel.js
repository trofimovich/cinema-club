define(["underscore","backbone","backbone-local-storage","app/helpers/helpersFn"],function(e,t,n,r){var i=t.Model.extend({defaults:function(){return{id:0,type:"person",name:"Unknown",profilePath:"",birthday:0,personAge:0,placeOfBirth:"",homepage:"",biography:"",isInFavourites:!1,character:""}},localStorage:new t.LocalStorage("fav-person"),parse:function(e){var t={};return t.id=e.id,t.name=e.name,t.profilePath=e.profile_path||e.profilePath,t.birthday=r.format(e.birthday),t.personAge=r.countAge(e.birthday),t.placeOfBirth=e.place_of_birth||e.placeOfBirth,t.homepage=e.homepage,t.biography=e.biography,t.character=e.character,t.isInFavourites=this.localStorage.find({id:e.id})?!0:!1,t},initialize:function(e){this.options=e},url:function(){return["https://api.themoviedb.org/3/person/",this.options.personId,"?api_key=",this.options.api_key].join("")},toggleFavourites:function(){this.get("isInFavourites")?(this.set("isInFavourites",!1),this.destroy()):(this.set("isInFavourites",!0),this.save())}});return i});